<project>
  <target name="phpcs"
          description="Find coding standard violations using PHP_CodeSniffer">
    <exec executable="phpcs" output="/dev/null">
      <arg value="--report=checkstyle" />
      <arg value="--report-file=${basedir}/build/logs/checkstyle.xml" />
      <arg value="--standard=${basedir}/build/ruleset/phpcs.xml" />
      <arg value="--ignore=${basedir}/cache/*,${basedir}/log/*,${basedir}/lib/vendor/*,${basedir}/plugins/*,${basedir}/web/*,${basedir}/lib/migration/doctrine/*,${basedir}/lib/*/doctrine/base/*,${basedir}/lib/*/doctrine/*/base/*" />
      <arg path="${basedir}" />
    </exec>
  </target>
</project>